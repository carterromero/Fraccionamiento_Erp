

<div class="row">
  <div class="col-xl-12">
    <app-card cardTitle="CategorÃ­as" blockClass="table-border-style" [options]="false"> 
        <div class="row">
          <div class="col">
              <div class="table-responsive">
                  <table class="table table-bordered ">
                      <thead thead class="thead-light">
                        <tr> 
                            <th>id</th>             
                            <th>Usuario</th>
                            <th>Nombre</th>
                          </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let general of general | async">
                            <td>{{general.user_id}} </td>
                            <td>{{general.user_name}} </td>
                            <td>{{general.full_name}} </td>
                        </tr>
                    </tbody>
                  </table>  
                </div>
              </div>
            </div>
          </app-card>
        </div>                 
</div>

<br>
<br>

<!-- <ul>
  <li class="text" *ngFor="let chat of chats | async">
    {{chat.mensaje}}
  </li>
</ul> -->
{{ message | async |json}}
<div class="col-lg-12 col-md-12">
    <app-card cardTitle="Chat" cardClass="chat-card">
      
      <div style="overflow-y:scroll,hidden; overflow-x:hidden; height: 300px;" id="content" >
        <!-- style="height:400px; overscroll-behavior-y:initial; overflow-x: hidden;" -->
        <!-- <div class="row m-b-20 m-t-20 received-chat" *ngFor="let msg of message | async">
          <div class="col-auto p-r-0">
            <img src="assets/images/user/avatar-2.jpg" alt="user image" class="img-radius wid-40">
          </div>
          <div class="col">
            <p style="margin-bottom: 3px;">
              <span class="badge badge-info">Admin</span>
            </p>
            <div class="msg">
              <p class="m-b-0">{{msg.data}}</p>
            </div>
            <p class="text-muted m-b-0">
              <i class="fa fa-clock-o m-r-10"></i>10:20am
            </p>
          </div>
        </div> -->
        <div *ngFor="let chatSend of msgs " style="margin-right: 10px; margin-left: 10px;">
          <div class="row m-b-20 send-chat" *ngIf=" currentUser === chatSend.nombreUsuario">
            <div class="col">
             <p style="margin-bottom: 3px;">
               <span class="badge badge-info">{{chatSend.nombreUsuario}}</span>
             </p>
             
             <div class="msg">
               <p class="m-b-0">{{chatSend.msg}}</p>
             </div>

            <!-- <p class="text-muted m-b-0"><i class="fa fa-clock-o m-r-10"></i>{{chatSend.createdAt | date:"short"}}</p> -->
           </div>
           <!-- <div class="col-auto p-l-0">
             <img src="assets/images/user/avatar-3.jpg" alt="user image" class="img-radius wid-40">
           </div> -->
         </div>
         <div class="row m-b-20 m-t-20 received-chat" *ngIf=" currentUser !== chatSend.nombreUsuario">
          <div class="col-auto p-r-0">
            <!-- <img src="assets/images/user/avatar-2.jpg" alt="user image" class="img-radius wid-40"> -->
            
          </div>
          <div class="col">
            <p style="margin-bottom: 3px;">
              <span class="badge badge-info">{{chatSend.nombreUsuario}}</span>
            </p>
            <div class="msg">
              <p class="m-b-0">{{chatSend.msg}}</p>
            </div>
            <!-- <p class="text-muted m-b-0">
              <i class="fa fa-clock-o m-r-10"></i>{{chatSend.createdAt | date:"short"}}
            </p> -->
          </div>
        </div>

      </div>
        
    </div>
      <div class="form-group m-t-15">
        <form (ngSubmit)="sendMessage()">
         
        <div class="input-group m-t-15">
          <input [(ngModel)]="tkn" type="text" name="tkn" class="form-control" placeholder="Usuario">

          <input [(ngModel)]="mensaje" type="text" name="mensaje" class="form-control" id="Project" placeholder="Mensaje">
          <div class="input-group-append">
            <button type="submit" class="btn btn-primary">
              <i class="feather icon-message-circle"></i>
            </button>
          </div>
          
        </div>
        </form>
      </div>

    </app-card>    
</div>